!function(){"use strict";const n=["getElement","ById","querySelector","classList","style","display"],o=function(o){return document[n[0]+n[1]](o)},e=o("wheel"),t=o("arrow"),i=document[n[2]](".luckDrawCount span"),w=[22.5,157.5,112.5,67.5,202.5];let s=!1,c=3,d=0,a=0,r=0;const l=[{title:"\u624b\u6c14\u4e0d\u9519\u54df\uff5e\u606d\u559c\u83b7\u5f97",prize:"100\u5143\u7ea2\u5305"},{title:"\u624b\u6c14\u4e0d\u9519\u54df\uff5e\u606d\u559c\u83b7\u5f97",prize:"\u4f18\u60e0\u5238\u793c\u5305"},{title:"\u624b\u6c14\u4e0d\u9519\u54df\uff5e\u606d\u559c\u83b7\u5f97",prize:"5\u5143\u4ee3\u91d1\u5238"},{title:"\u624b\u6c14\u4e0d\u9519\u54df\uff5e\u606d\u559c\u83b7\u5f97",prize:"1\u5143\u7ea2\u5305"},{title:"\u624b\u6c14\u4e0d\u9519\u54df\uff5e\u606d\u559c\u83b7\u5f97",prize:"\u4f18\u60e0\u5238\u793c\u5305"}];function u(e){o("modalMessage").innerText=e,o("modal")[n[4]][n[5]]="block"}o("modalClose").onclick=function(){o("modal")[n[4]][n[5]]="none"},t.addEventListener("click",(function(n){const o=Date.now();o-r<1e3?n.preventDefault():(r=o,s||(c<=0?u("Sorry \u60a8\u6ca1\u6709\u62bd\u5956\u673a\u4f1a\u4e86"):(s=!0,function(n){const o=d-a+w[n]+3600;e.style.transition="transform 6s ease-in-out 0s",e.style.transform=`rotateZ(${o}deg)`,a=w[n],d=o,c--,i.innerHTML=c,e.addEventListener("transitionend",(function o(){e.removeEventListener("transitionend",o),s=!1,function(n){u(l[n].title+"\r\n"+l[n].prize),function(n){try{window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.native?window.webkit.messageHandlers.native.postMessage(n):window.Android&&"function"==typeof window.Android.sendMessage?window.Android.sendMessage(n):console.log("\u672a\u68c0\u6d4b\u5230\u539f\u751f\u73af\u5883",n)}catch(n){console.error("\u5411\u539f\u751f\u53d1\u9001\u6d88\u606f\u65f6\u51fa\u9519:",n)}}({type:"drawResult",index:n,prize:l[n]})}(n)}),{once:!0})}(Math.floor(5*Math.random())))))}),!1);const f=function(n){let o;return function(){const e=this,t=arguments;clearTimeout(o),o=setTimeout((()=>n.apply(e,t)),150)}}(_resize);window.addEventListener("resize",f,!1),window.addEventListener("message",(function(n){var o;"\u4f60\u7684\u539f\u751f\u5e94\u7528\u7684\u57df\u540d"===n.origin&&"luckDrawCount"===n.data.type&&(o=n.data.count,c=o,i.innerText=c)})),window.addEventListener("online",(()=>console.log("\u7f51\u7edc\u5df2\u8fde\u63a5"))),window.addEventListener("offline",(()=>u("\u7f51\u7edc\u8fde\u63a5\u5df2\u65ad\u5f00\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8bbe\u7f6e"))),window.addEventListener("load",(function(){Promise.all(["./images/game-wheel.png","./images/game-arrow.png","./images/game-bg.png"].map((n=>new Promise(((o,e)=>{const t=new Image;t.onload=o,t.onerror=e,t.src=n}))))).then((()=>{const e=o("loading");e&&(e[n[3]].add("hide"),setTimeout((()=>e.remove()),300))})).catch((n=>{console.error("\u8d44\u6e90\u52a0\u8f7d\u5931\u8d25:",n);const e=o("loading");e&&e.remove()}))})),window.self!==window.top&&(window.top.location=window.self.location),setInterval((function(){const n=new Date;new Date-n>100&&(window.location.href=window.location.href)}),100)}("undefined"!=typeof window&&window);